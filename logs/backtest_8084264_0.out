========== Env & Dir ==========
Host: node2704
Start: Thu Jan 15 00:26:22 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-01

=== Day 2025-12-01 ===
[Info] Created 90 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches            0 rows (  0.00%)
    three_month_avg                0 rows (  0.00%)
    six_month_avg                  0 rows (  0.00%)
    mom_change                     0 rows (  0.00%)
    search_trend                   0 rows (  0.00%)
  Merged rows: 90
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
[Info] Pruned 18 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9384X 32-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 64 physical cores, 128 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 7325 rows, 3988 columns and 20824 nonzeros (Max)
Model fingerprint: 0xbf376bfe
Model has 72 linear objective coefficients
Variable types: 144 continuous, 3844 integer (3844 binary)
Coefficient statistics:
  Matrix range     [3e-03, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 3496 rows and 519 columns
Presolve time: 0.11s
Presolved: 3829 rows, 3469 columns, 11933 nonzeros
Variable types: 72 continuous, 3397 integer (3397 binary)

Root relaxation: objective 5.314009e+02, 3273 iterations, 0.02 seconds (0.03 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0  531.40090    0 1792   -0.00000  531.40090      -     -    0s
H    0     0                     320.4836939  531.40090  65.8%     -    0s
H    0     0                     326.0250583  531.40090  63.0%     -    0s
H    0     0                     328.6293383  531.40090  61.7%     -    0s
H    0     0                     328.6998663  531.40090  61.7%     -    0s
H    0     0                     329.7239694  531.40090  61.2%     -    0s
H    0     0                     329.9595561  531.40090  61.1%     -    0s
H    0     0                     335.1983415  531.40090  58.5%     -    0s
H    0     0                     336.7171050  531.40090  57.8%     -    0s
H    0     0                     337.2309160  531.40090  57.6%     -    0s
H    0     0                     340.3425465  531.40090  56.1%     -    0s
H    0     0                     341.7688086  531.40090  55.5%     -    0s
H    0     0                     342.7251490  531.40090  55.1%     -    0s
H    0     0                     344.3498762  531.40090  54.3%     -    0s
H    0     0                     344.8027269  531.40090  54.1%     -    0s
H    0     0                     344.8633104  531.40090  54.1%     -    0s
H    0     0                     344.9055711  531.40090  54.1%     -    0s
H    0     0                     344.9284185  531.40090  54.1%     -    0s
H    0     0                     345.1144261  531.40090  54.0%     -    0s
H    0     0                     352.9410769  531.40090  50.6%     -    0s
H    0     0                     360.1098999  531.40090  47.6%     -    0s
H    0     0                     360.3610156  531.40090  47.5%     -    0s
H    0     0                     362.2955075  531.40090  46.7%     -    0s
H    0     0                     362.7977390  531.40090  46.5%     -    0s
H    0     0                     362.8089417  531.40090  46.5%     -    0s
H    0     0                     363.0477889  531.40090  46.4%     -    0s
H    0     0                     363.0582604  531.40090  46.4%     -    0s
H    0     0                     363.1771577  531.40090  46.3%     -    0s
H    0     0                     363.2512410  531.40090  46.3%     -    0s
H    0     0                     363.3132605  492.42251  35.5%     -    0s
     0     0  492.42251    0 1778  363.31326  492.42251  35.5%     -    0s
H    0     0                     365.0273996  490.74685  34.4%     -    0s
H    0     0                     365.3621637  490.74685  34.3%     -    0s
H    0     0                     366.1480057  490.74685  34.0%     -    0s
H    0     0                     366.3991214  490.74685  33.9%     -    0s
H    0     0                     368.7575072  490.74685  33.1%     -    0s
H    0     0                     368.8336351  490.74685  33.1%     -    0s
H    0     0                     368.8441067  490.74685  33.0%     -    0s
H    0     0                     370.2395616  490.74685  32.5%     -    0s
H    0     0                     370.2500331  490.74685  32.5%     -    0s
H    0     0                     370.3102090  490.74685  32.5%     -    0s
H    0     0                     370.5407973  490.74685  32.4%     -    0s
H    0     0                     370.5451699  490.74685  32.4%     -    0s
H    0     0                     370.6192532  490.74685  32.4%     -    0s
H    0     0                     370.8542140  490.74685  32.3%     -    0s
H    0     0                     371.0834838  490.74685  32.2%     -    0s
H    0     0                     371.1012553  490.74685  32.2%     -    0s
H    0     0                     371.3032155  490.74685  32.2%     -    0s
H    0     0                     371.3368420  490.74685  32.2%     -    0s
H    0     0                     371.6210666  490.74685  32.1%     -    0s
     0     0  475.91398    0 1589  371.62107  475.91398  28.1%     -    1s
     0     0  457.10383    0 1356  371.62107  457.10383  23.0%     -    1s
     0     0  456.74245    0 1349  371.62107  456.74245  22.9%     -    1s
     0     0  453.63146    0 1329  371.62107  453.63146  22.1%     -    1s
     0     0  453.62980    0 1328  371.62107  453.62980  22.1%     -    1s
     0     0  452.29508    0 1382  371.62107  452.29508  21.7%     -    1s
     0     0  451.96205    0 1381  371.62107  451.96205  21.6%     -    1s
     0     0  451.96176    0 1380  371.62107  451.96176  21.6%     -    1s
     0     0  451.86681    0 1395  371.62107  451.86681  21.6%     -    1s
     0     0  451.85840    0 1410  371.62107  451.85840  21.6%     -    1s
H    0     0                     373.1700582  423.25106  13.4%     -    1s
H    0     0                     373.3501892  423.25106  13.4%     -    1s
H    0     0                     374.1898733  423.25106  13.1%     -    1s
     0     0  423.24533    0 1039  374.18987  423.24533  13.1%     -    1s
     0     0  423.19165    0 1038  374.18987  423.19165  13.1%     -    1s
     0     0  420.17172    0 1095  374.18987  420.17172  12.3%     -    1s
     0     0  420.17153    0 1088  374.18987  420.17153  12.3%     -    1s
     0     0  419.21735    0 1041  374.18987  419.21735  12.0%     -    1s
     0     0  419.07527    0 1075  374.18987  419.07527  12.0%     -    1s
     0     0  419.05050    0 1076  374.18987  419.05050  12.0%     -    1s
H    0     0                     374.2141826  409.44388  9.41%     -    1s
H    0     0                     374.5056778  409.44388  9.33%     -    1s
H    0     0                     374.8575228  409.44388  9.23%     -    1s
H    0     0                     377.1219431  409.44388  8.57%     -    1s
H    0     0                     377.5098585  409.44388  8.46%     -    1s
H    0     0                     377.9805288  409.44388  8.32%     -    1s
H    0     0                     377.9991171  409.44388  8.32%     -    1s
H    0     0                     378.4510768  409.44388  8.19%     -    1s
     0     0  404.79875    0  943  378.45108  404.79875  6.96%     -    1s
     0     0  404.74721    0  933  378.45108  404.74721  6.95%     -    1s
     0     0  404.73663    0  928  378.45108  404.73663  6.95%     -    1s
H    0     0                     379.2687972  404.71543  6.71%     -    2s
H    0     0                     382.5165815  404.71543  5.80%     -    2s
H    0     0                     382.5270530  404.71543  5.80%     -    2s
H    0     0                     382.6400560  404.71543  5.77%     -    2s
H    0     0                     383.1639617  404.71543  5.62%     -    2s
H    0     0                     383.7657550  404.71543  5.46%     -    2s
H    0     0                     384.5647787  404.71543  5.24%     -    2s
H    0     0                     384.7875391  404.71543  5.18%     -    2s
H    0     0                     384.8880559  404.71543  5.15%     -    2s
H    0     0                     385.2797900  404.71543  5.04%     -    2s
     0     0  402.70561    0  834  385.27979  402.70561  4.52%     -    2s
     0     0  402.70465    0  833  385.27979  402.70465  4.52%     -    2s
     0     0  402.69546    0  832  385.27979  402.69546  4.52%     -    2s
     0     0  402.05751    0  824  385.27979  402.05751  4.35%     -    2s
     0     0  402.05743    0  822  385.27979  402.05743  4.35%     -    2s
     0     0  401.93777    0  850  385.27979  401.93777  4.32%     -    2s
     0     0  394.50178    0  654  385.27979  394.50178  2.39%     -    2s
     0     0  394.49448    0  646  385.27979  394.49448  2.39%     -    2s
H    0     0                     385.3100744  394.46279  2.38%     -    2s
     0     0  392.82184    0  568  385.31007  392.82184  1.95%     -    2s
     0     0  392.81951    0  552  385.31007  392.81951  1.95%     -    2s
     0     0  392.28680    0  575  385.31007  392.28680  1.81%     -    2s
     0     0  392.24295    0  557  385.31007  392.24295  1.80%     -    2s
     0     0  392.08460    0  549  385.31007  392.08460  1.76%     -    2s
     0     0  392.08388    0  541  385.31007  392.08388  1.76%     -    2s
     0     0  391.08310    0  450  385.31007  391.08310  1.50%     -    2s
     0     0  391.08310    0  939  385.31007  391.08310  1.50%     -    3s
     0     0  391.08310    0  937  385.31007  391.08310  1.50%     -    3s
     0     0  391.08310    0  586  385.31007  391.08310  1.50%     -    3s
     0     0  391.08310    0  393  385.31007  391.08310  1.50%     -    3s
     0     0  391.08310    0  393  385.31007  391.08310  1.50%     -    3s
     0     0  390.92679    0  380  385.31007  390.92679  1.46%     -    3s
     0     0  390.48347    0  369  385.31007  390.48347  1.34%     -    3s
     0     0  390.47543    0  374  385.31007  390.47543  1.34%     -    3s
     0     0  389.87467    0  401  385.31007  389.87467  1.18%     -    3s
H    0     0                     385.5049052  389.87427  1.13%     -    3s
     0     0  389.67975    0  435  385.50491  389.67975  1.08%     -    3s
     0     0  389.67794    0  433  385.50491  389.67794  1.08%     -    3s
     0     0  389.63842    0  389  385.50491  389.63842  1.07%     -    3s
     0     0  388.74670    0  230  385.50491  388.74670  0.84%     -    3s
H    0     0                     385.7621637  388.74315  0.77%     -    3s
H    0     0                     386.0163387  388.74315  0.71%     -    3s
H    0     0                     386.1287442  388.74315  0.68%     -    3s
H    0     0                     386.2048721  388.74315  0.66%     -    3s
H    0     0                     386.2636212  388.74315  0.64%     -    3s
H    0     0                     386.4309702  388.74315  0.60%     -    3s
H    0     0                     386.4698531  388.74315  0.59%     -    3s
H    0     0                     386.4784781  388.74315  0.59%     -    3s
     0     0  388.59219    0  190  386.47848  388.59219  0.55%     -    3s
     0     0  388.57426    0  188  386.47848  388.57426  0.54%     -    3s
     0     0  388.51672    0  156  386.47848  388.51672  0.53%     -    3s
     0     0  388.30586    0  157  386.47848  388.30586  0.47%     -    4s
     0     0  388.23926    0  150  386.47848  388.23926  0.46%     -    4s
     0     0  388.12171    0  137  386.47848  388.12171  0.43%     -    4s
     0     0  388.07289    0  142  386.47848  388.07289  0.41%     -    4s
     0     0  387.93928    0  130  386.47848  387.93928  0.38%     -    4s
     0     0  387.93928    0  389  386.47848  387.93928  0.38%     -    4s
     0     0  387.93928    0  340  386.47848  387.93928  0.38%     -    4s
     0     0  387.93928    0  103  386.47848  387.93928  0.38%     -    4s
     0     0  387.93928    0   98  386.47848  387.93928  0.38%     -    4s
     0     0  387.90586    0   97  386.47848  387.90586  0.37%     -    4s
     0     0  387.89703    0   97  386.47848  387.89703  0.37%     -    4s
     0     0  387.83889    0  110  386.47848  387.83889  0.35%     -    4s
     0     0  387.83884    0   84  386.47848  387.83884  0.35%     -    4s
     0     0  387.81103    0   77  386.47848  387.81103  0.34%     -    4s
     0     0  387.64267    0   72  386.47848  387.64267  0.30%     -    4s
     0     0  387.52763    0   63  386.47848  387.52763  0.27%     -    4s
     0     0  387.51923    0   63  386.47848  387.51923  0.27%     -    4s
     0     0  387.46773    0   64  386.47848  387.46773  0.26%     -    5s
     0     0  387.45717    0   51  386.47848  387.45717  0.25%     -    5s
     0     0  387.44662    0   49  386.47848  387.44662  0.25%     -    5s
     0     0  387.42950    0   50  386.47848  387.42950  0.25%     -    5s
     0     0  387.42816    0   48  386.47848  387.42816  0.25%     -    5s
     0     0  387.42815    0   47  386.47848  387.42815  0.25%     -    5s
     0     0  387.42733    0   47  386.47848  387.42733  0.25%     -    5s
     0     0  387.42733    0   47  386.47848  387.42733  0.25%     -    5s
     0     0  387.42733    0   47  386.47848  387.42733  0.25%     -    5s
H    0     0                     386.5187877  387.42733  0.24%     -    5s
H    0     0                     386.5292592  387.42733  0.23%     -    5s
H    0     0                     386.5981205  387.42733  0.21%     -    5s
H    0     0                     386.6001941  387.42733  0.21%     -    5s
     0     0  387.42710    0  280  386.60019  387.42710  0.21%     -    5s
     0     0  387.42710    0  126  386.60019  387.42710  0.21%     -    5s
     0     0  387.42710    0   73  386.60019  387.42710  0.21%     -    5s
     0     0  387.42710    0   37  386.60019  387.42710  0.21%     -    5s
     0     0  387.42710    0   37  386.60019  387.42710  0.21%     -    5s
     0     0  387.41674    0   48  386.60019  387.41674  0.21%     -    5s
     0     0  387.40696    0   48  386.60019  387.40696  0.21%     -    5s
     0     0  387.40408    0   43  386.60019  387.40408  0.21%     -    6s
     0     0  387.38969    0   33  386.60019  387.38969  0.20%     -    6s
     0     0  387.38724    0   60  386.60019  387.38724  0.20%     -    6s
     0     0  387.38101    0   49  386.60019  387.38101  0.20%     -    6s
     0     0  387.38035    0   49  386.60019  387.38035  0.20%     -    6s
     0     0  387.38035    0   49  386.60019  387.38035  0.20%     -    6s
     0     0  387.38035    0   47  386.60019  387.38035  0.20%     -    6s
H    0     0                     386.6902410  387.37787  0.18%     -    6s
H    0     0                     386.9909359  387.37787  0.10%     -    6s
H    0     0                     387.0014074  387.37787  0.10%     -    6s
H    0     0                     387.0118789  387.37681  0.09%     -    6s
H    0     0                     387.1497688  387.37681  0.06%     -    6s
     0     0  387.37681    0   85  387.14977  387.37681  0.06%     -    6s
     0     0  387.37681    0   51  387.14977  387.37681  0.06%     -    6s
     0     0  387.37681    0   34  387.14977  387.37681  0.06%     -    6s
     0     0  387.37681    0   14  387.14977  387.37681  0.06%     -    6s
     0     0  387.36151    0   36  387.14977  387.36151  0.05%     -    6s
     0     0  387.33691    0   34  387.14977  387.33691  0.05%     -    6s
     0     0  387.33688    0   35  387.14977  387.33688  0.05%     -    6s
     0     0  387.31929    0   35  387.14977  387.31929  0.04%     -    6s
     0     0  387.31929    0   39  387.14977  387.31929  0.04%     -    6s
     0     0  387.31929    0   20  387.14977  387.31929  0.04%     -    6s
     0     0  387.31929    0   22  387.14977  387.31929  0.04%     -    6s
     0     0  387.31651    0   17  387.14977  387.31651  0.04%     -    6s
     0     0  387.31524    0   19  387.14977  387.31524  0.04%     -    6s
     0     0  387.31007    0   19  387.14977  387.31007  0.04%     -    6s
     0     0  387.30972    0   20  387.14977  387.30972  0.04%     -    6s
     0     0  387.30324    0    9  387.14977  387.30324  0.04%     -    6s
     0     0  387.30278    0    6  387.14977  387.30278  0.04%     -    6s
     0     0  387.30234    0    2  387.14977  387.30234  0.04%     -    6s
     0     0  387.30127    0   27  387.14977  387.30127  0.04%     -    6s
     0     0  387.30057    0   19  387.14977  387.30057  0.04%     -    6s
H    0     0                     387.2240396  387.30057  0.02%     -    6s
     0     0  387.29567    0   10  387.22404  387.29567  0.02%     -    6s
     0     0  387.29567    0   12  387.22404  387.29567  0.02%     -    6s
     0     0  387.29567    0   15  387.22404  387.29567  0.02%     -    6s
     0     0  387.29567    0    4  387.22404  387.29567  0.02%     -    6s
     0     0  387.29567    0   17  387.22404  387.29567  0.02%     -    6s
     0     0  387.29543    0   10  387.22404  387.29543  0.02%     -    6s
     0     0  387.29522    0    5  387.22404  387.29522  0.02%     -    6s
     0     0  387.29220    0   25  387.22404  387.29220  0.02%     -    6s
     0     0  387.28671    0    8  387.22404  387.28671  0.02%     -    6s
     0     0  387.28671    0   22  387.22404  387.28671  0.02%     -    6s
     0     0  387.28623    0   22  387.22404  387.28623  0.02%     -    6s
     0     0  387.28623    0   22  387.22404  387.28623  0.02%     -    6s
     0     0  387.28355    0    5  387.22404  387.28355  0.02%     -    6s
     0     0  387.25537    0    5  387.22404  387.25537  0.01%     -    6s

Cutting planes:
  Learned: 9
  Gomory: 2
  Cover: 8
  Clique: 2
  MIR: 8
  Relax-and-lift: 5

Explored 1 nodes (21933 simplex iterations) in 6.88 seconds (2.21 work units)
Thread count was 32 (of 128 available processors)

Solution count 10: 387.224 387.15 387.012 ... 386.529

Optimal solution found (tolerance 1.00e-04)
Best objective 3.872240395708e+02, best bound 3.872553725785e+02, gap 0.0081%
[Info] Optimization Success. Objective Value: 387.2240
[Info] Max discrepancy between Gurobi and XGBoost: 0.000009
[Info] Sample of Optimization Results:
                             Keyword Region  ... Actual Model Pred          Diff
0               1 mit opencourseware    USA  ...         25.770258  3.401809e-07
1               1 mit opencourseware      A  ...         28.035751  5.151366e-07
2               1 mit opencourseware      B  ...         35.682941  8.725332e-06
3  5 day generative ai course google    USA  ...          0.284717 -1.409459e-07
4  5 day generative ai course google    USA  ...          1.026858 -1.119229e-07

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-01.csv
End: Thu Jan 15 00:26:47 EST 2026
