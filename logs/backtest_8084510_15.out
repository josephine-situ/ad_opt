========== Env & Dir ==========
Host: node1610
Start: Thu Jan 15 01:09:22 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-16

=== Day 2025-12-16 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 4419 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1356425 rows, 693340 columns and 3805841 nonzeros (Max)
Model fingerprint: 0x3bb2f249
Model has 11763 linear objective coefficients
Variable types: 23526 continuous, 669814 integer (669814 binary)
Coefficient statistics:
  Matrix range     [9e-04, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 281988 rows and 28043 columns (presolve time = 5s)...
Presolve removed 690360 rows and 28433 columns (presolve time = 19s)...
Presolve removed 690360 rows and 32250 columns (presolve time = 21s)...
Presolve removed 695630 rows and 32915 columns
Presolve time: 23.72s
Presolved: 660795 rows, 660425 columns, 2155396 nonzeros
Variable types: 11531 continuous, 648894 integer (648894 binary)
Found heuristic solution: objective 50.0522681
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.51s

Barrier statistics:
 AA' NZ     : 1.132e+07
 Factor NZ  : 1.777e+07 (roughly 700 MB of memory)
 Factor Ops : 5.914e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.80566140e+07  6.79449562e+07  1.32e+06 2.32e+00  2.35e+03    30s
   1   9.36704416e+06  7.16804127e+07  6.95e+05 5.46e-14  1.30e+03    31s
   2   3.64380193e+05  6.14897978e+07  1.99e+04 6.09e-13  6.89e+01    32s
   3   1.12694435e+05  4.48974812e+07  4.45e+03 3.25e-13  3.22e+01    33s
   4   8.21392757e+04  1.34905768e+07  2.66e+03 1.01e-13  1.10e+01    33s
   5   3.72825763e+04  3.22244235e+06  8.16e+02 1.97e-13  2.75e+00    34s
   6   1.46973650e+04  8.93421954e+05  2.05e+02 2.42e-13  7.33e-01    34s
   7   7.96316211e+03  2.01028021e+05  5.10e+01 2.40e-13  1.67e-01    34s
   8   6.40838087e+03  3.78825978e+04  1.91e+00 2.53e-13  1.96e-02    35s
   9   9.28905031e+03  1.53376314e+04  1.86e-01 1.57e-13  3.49e-03    36s
  10   1.00296696e+04  1.30920634e+04  6.39e-02 8.33e-14  1.75e-03    36s
  11   1.01640907e+04  1.27379399e+04  4.99e-02 5.77e-14  1.47e-03    37s
  12   1.01805241e+04  1.26368669e+04  4.83e-02 5.78e-14  1.40e-03    38s
  13   1.01940825e+04  1.25335687e+04  4.71e-02 5.55e-14  1.34e-03    39s
  14   1.02098565e+04  1.24806110e+04  4.58e-02 5.55e-14  1.30e-03    39s
  15   1.02324330e+04  1.24070846e+04  4.40e-02 5.09e-14  1.24e-03    40s
  16   1.02534182e+04  1.23530181e+04  4.25e-02 4.80e-14  1.20e-03    40s
  17   1.02633124e+04  1.23447337e+04  4.19e-02 4.38e-14  1.19e-03    41s
  18   1.02893136e+04  1.22950144e+04  4.01e-02 4.52e-14  1.15e-03    42s
  19   1.03087677e+04  1.22602319e+04  3.89e-02 4.13e-14  1.11e-03    43s
  20   1.03282364e+04  1.22142699e+04  3.78e-02 4.64e-14  1.08e-03    43s
  21   1.03508282e+04  1.21917415e+04  3.64e-02 4.14e-14  1.05e-03    45s
  22   1.03815413e+04  1.21129891e+04  3.46e-02 3.94e-14  9.88e-04    46s
  23   1.04090612e+04  1.20916473e+04  3.32e-02 3.26e-14  9.60e-04    46s
  24   1.04289322e+04  1.20311372e+04  3.22e-02 3.44e-14  9.15e-04    47s
  25   1.04460414e+04  1.19845660e+04  3.13e-02 2.64e-14  8.78e-04    48s
  26   1.04709897e+04  1.19494609e+04  3.00e-02 2.53e-14  8.44e-04    48s
  27   1.04892892e+04  1.19162518e+04  2.91e-02 2.44e-14  8.14e-04    49s
  28   1.05263784e+04  1.18879247e+04  2.73e-02 2.65e-14  7.77e-04    50s
  29   1.05498743e+04  1.18413429e+04  2.63e-02 2.59e-14  7.37e-04    50s
  30   1.05731641e+04  1.18100482e+04  2.53e-02 2.26e-14  7.06e-04    51s
  31   1.05919958e+04  1.17859197e+04  2.44e-02 2.44e-14  6.81e-04    52s
  32   1.06048205e+04  1.17777673e+04  2.38e-02 2.30e-14  6.69e-04    53s
  33   1.06238833e+04  1.17324198e+04  2.30e-02 2.38e-14  6.33e-04    54s
  34   1.06493915e+04  1.17074411e+04  2.19e-02 1.72e-14  6.04e-04    55s
  35   1.06736060e+04  1.16644906e+04  2.08e-02 2.02e-14  5.65e-04    55s
  36   1.07167924e+04  1.16273132e+04  1.90e-02 2.21e-14  5.20e-04    56s

Barrier performed 36 iterations in 55.86 seconds (46.25 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 3.98s (can be avoided by choosing Method=3)

Solved with primal simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  556507    1.1196868e+04   0.000000e+00   0.000000e+00     60s

Root relaxation: objective 1.119687e+04, 556507 iterations, 32.96 seconds (15.06 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 11196.8677    0 12256   50.05227 11196.8677      -     -   62s
H    0     0                    10065.071525 11196.8677  11.2%     -   63s
H    0     0                    10130.129113 11196.8677  10.5%     -   64s
H    0     0                    10163.661431 11196.8677  10.2%     -   66s
H    0     0                    10168.521957 11196.8677  10.1%     -   66s
H    0     0                    10181.721833 11196.8677  10.0%     -   66s
H    0     0                    10210.668039 11196.8677  9.66%     -   70s
H    0     0                    10215.779870 11196.8677  9.60%     -   70s
H    0     0                    10272.645925 11196.8677  9.00%     -   70s
H    0     0                    10276.415689 11196.8677  8.96%     -   71s
H    0     0                    10276.839612 11196.8677  8.95%     -   72s
H    0     0                    10277.156288 11196.8677  8.95%     -   72s
H    0     0                    10286.080600 11196.8677  8.85%     -   73s
H    0     0                    10288.199868 11196.8677  8.83%     -   73s
H    0     0                    10288.767849 11196.8677  8.83%     -   73s
H    0     0                    10292.533512 11196.8677  8.79%     -   74s
H    0     0                    10293.325680 11196.8677  8.78%     -   75s
H    0     0                    10309.462559 11196.8677  8.61%     -   75s
H    0     0                    10314.591205 11196.8677  8.55%     -   77s
H    0     0                    10316.218275 11196.8677  8.54%     -   77s
H    0     0                    10316.651958 11196.8677  8.53%     -   77s
H    0     0                    10317.346224 11196.8677  8.52%     -   77s
H    0     0                    10320.015665 11196.8677  8.50%     -   78s
H    0     0                    10322.725532 11196.8677  8.47%     -   79s
H    0     0                    10327.599904 11196.8677  8.42%     -   79s
H    0     0                    10329.083222 11196.8677  8.40%     -   82s
H    0     0                    10331.652381 11196.8677  8.37%     -   82s
H    0     0                    10333.293487 11196.8677  8.36%     -   83s
     0     0 11053.4563    0 13384 10333.2935 11053.4563  6.97%     -   91s
H    0     0                    10337.357490 11052.7596  6.92%     -   95s
H    0     0                    10351.446964 11052.7596  6.78%     -   96s
H    0     0                    10352.983197 11052.7596  6.76%     -   96s
H    0     0                    10356.193891 11052.7596  6.73%     -   96s
H    0     0                    10379.300045 11052.7596  6.49%     -   97s
H    0     0                    10391.246569 11052.7596  6.37%     -   97s
H    0     0                    10393.639258 11052.7596  6.34%     -   97s
H    0     0                    10396.634262 11052.7596  6.31%     -   97s
H    0     0                    10400.685767 11052.7596  6.27%     -   98s
H    0     0                    10401.002443 11052.7596  6.27%     -   98s
H    0     0                    10411.030099 11052.7596  6.16%     -   98s
H    0     0                    10411.647773 11052.7596  6.16%     -   98s
H    0     0                    10412.353623 11052.7596  6.15%     -   99s
H    0     0                    10412.663889 11052.7596  6.15%     -   99s
H    0     0                    10414.332590 11052.7596  6.13%     -   99s
H    0     0                    10417.582367 11052.7596  6.10%     -   99s
H    0     0                    10417.807473 11052.7596  6.09%     -  105s
H    0     0                    10418.124149 11052.7596  6.09%     -  105s
     0     0 11035.3807    0 13591 10418.1241 11035.3807  5.92%     -  107s
     0     0 11034.1089    0 13550 10418.1241 11034.1089  5.91%     -  108s
     0     0 11034.0189    0 13506 10418.1241 11034.0189  5.91%     -  109s
     0     0 11034.0135    0 13493 10418.1241 11034.0135  5.91%     -  109s
     0     0 10962.0755    0 15649 10418.1241 10962.0755  5.22%     -  116s
     0     0 10952.1251    0 15388 10418.1241 10952.1251  5.13%     -  120s
     0     0 10950.6128    0 15400 10418.1241 10950.6128  5.11%     -  121s
     0     0 10950.2778    0 15395 10418.1241 10950.2778  5.11%     -  122s
     0     0 10950.1918    0 15353 10418.1241 10950.1918  5.11%     -  123s
     0     0 10950.1826    0 15415 10418.1241 10950.1826  5.11%     -  123s
     0     0          -    0      10418.1241 10938.9996  5.00%     -  127s

Cutting planes:
  Learned: 11656
  Gomory: 155
  Cover: 8648
  Clique: 9058
  MIR: 10217
  StrongCG: 3
  Flow cover: 2
  GUB cover: 647
  Zero half: 4
  RLT: 46
  Relax-and-lift: 3718

Explored 1 nodes (578220 simplex iterations) in 127.31 seconds (115.02 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 10418.1 10417.8 10417.6 ... 10400.7

Optimal solution found (tolerance 5.00e-02)
Best objective 1.041812414899e+04, best bound 1.093899962895e+04, gap 4.9997%
[Info] Optimization Success. Objective Value: 10418.1241
[Info] Max discrepancy between Gurobi and XGBoost: 3.074351
[Info] Sample of Optimization Results:
                Keyword Region  ... Actual Model Pred          Diff
0  1 mit opencourseware    USA  ...          0.158831 -1.287315e-07
1  1 mit opencourseware      A  ...          0.249162 -3.962697e-08
2  1 mit opencourseware      B  ...          0.420095  1.193930e-07
3  1 mit opencourseware      B  ...          0.502275  2.084554e-07
4  1 mit opencourseware      B  ...          1.014047 -2.973435e-07

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-16.csv
End: Thu Jan 15 01:12:08 EST 2026
