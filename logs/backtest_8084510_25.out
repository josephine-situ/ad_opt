========== Env & Dir ==========
Host: node1606
Start: Thu Jan 15 01:24:22 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-26

=== Day 2025-12-26 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 3974 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1326722 rows, 697399 columns and 3743334 nonzeros (Max)
Model fingerprint: 0xf3184295
Model has 12208 linear objective coefficients
Variable types: 24416 continuous, 672983 integer (672983 binary)
Coefficient statistics:
  Matrix range     [5e-03, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 265288 rows and 35390 columns (presolve time = 5s)...
Presolve removed 645900 rows and 35422 columns (presolve time = 11s)...
Presolve removed 646830 rows and 36103 columns (presolve time = 15s)...
Presolve removed 646868 rows and 36169 columns
Presolve time: 17.78s
Presolved: 679854 rows, 661230 columns, 2162727 nonzeros
Variable types: 11927 continuous, 649303 integer (649303 binary)
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.40s

Barrier statistics:
 AA' NZ     : 1.155e+07
 Factor NZ  : 1.813e+07 (roughly 700 MB of memory)
 Factor Ops : 5.967e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.97574040e+07  5.56663616e+07  1.98e+06 1.75e+00  1.36e+03    24s
   1   4.24818841e+06  5.74317253e+07  5.04e+05 1.44e-14  3.72e+02    25s
   2   5.78676041e+05  4.49807509e+07  6.10e+04 9.16e-15  6.25e+01    26s
   3   9.82833477e+04  1.14804599e+07  6.62e+03 1.08e-14  9.24e+00    26s
   4   4.42383692e+04  1.93167020e+06  2.12e+03 1.26e-14  1.80e+00    27s
   5   1.34467689e+04  4.43723204e+05  3.52e+02 1.41e-14  3.58e-01    27s
   6   7.03395349e+03  1.63073691e+05  7.71e+01 1.42e-14  1.12e-01    28s
   7   6.54061408e+03  4.62062641e+04  1.07e+01 1.35e-14  2.50e-02    28s
   8   1.05697084e+04  1.83250505e+04  8.68e-01 9.60e-15  4.47e-03    29s
   9   1.14054495e+04  1.68860304e+04  4.64e-01 8.05e-15  3.13e-03    29s
  10   1.15094443e+04  1.65986626e+04  4.29e-01 7.99e-15  2.91e-03    30s
  11   1.17359802e+04  1.61565999e+04  3.50e-01 6.94e-15  2.52e-03    30s
  12   1.17584352e+04  1.60589962e+04  3.43e-01 7.05e-15  2.45e-03    31s
  13   1.18660970e+04  1.59047944e+04  3.11e-01 6.16e-15  2.30e-03    31s
  14   1.19206979e+04  1.55578125e+04  2.96e-01 5.88e-15  2.07e-03    32s
  15   1.19737901e+04  1.54400093e+04  2.82e-01 6.58e-15  1.97e-03    32s
  16   1.20338289e+04  1.52144096e+04  2.68e-01 5.33e-15  1.81e-03    33s
  17   1.21017658e+04  1.51318096e+04  2.53e-01 5.55e-15  1.73e-03    33s
  18   1.21383694e+04  1.49971147e+04  2.44e-01 6.22e-15  1.63e-03    34s
  19   1.22049693e+04  1.48877231e+04  2.30e-01 5.80e-15  1.53e-03    34s
  20   1.22646089e+04  1.47680747e+04  2.17e-01 5.33e-15  1.43e-03    35s
  21   1.23208552e+04  1.47255364e+04  2.05e-01 6.22e-15  1.37e-03    35s
  22   1.24066859e+04  1.46188648e+04  1.86e-01 7.11e-15  1.26e-03    36s
  23   1.24514882e+04  1.45782309e+04  1.77e-01 7.11e-15  1.21e-03    36s
  24   1.25009437e+04  1.44508684e+04  1.67e-01 6.22e-15  1.11e-03    37s
  25   1.25871345e+04  1.44115820e+04  1.49e-01 5.33e-15  1.04e-03    37s
  26   1.26635155e+04  1.43243440e+04  1.34e-01 5.33e-15  9.44e-04    38s
  27   1.26901232e+04  1.42898688e+04  1.29e-01 6.22e-15  9.10e-04    39s
  28   1.27691365e+04  1.42384595e+04  1.13e-01 7.11e-15  8.35e-04    39s
  29   1.28426316e+04  1.41804927e+04  9.90e-02 7.11e-15  7.60e-04    40s
  30   1.28796387e+04  1.40651218e+04  9.23e-02 5.33e-15  6.74e-04    41s
  31   1.29128683e+04  1.40050280e+04  8.63e-02 5.77e-15  6.21e-04    42s
  32   1.29313279e+04  1.39770414e+04  8.30e-02 7.11e-15  5.94e-04    43s
  33   1.29777101e+04  1.39301070e+04  7.46e-02 5.33e-15  5.41e-04    43s
  34   1.30143262e+04  1.38733299e+04  6.81e-02 5.77e-15  4.88e-04    44s
  35   1.30379079e+04  1.38358528e+04  6.39e-02 5.33e-15  4.53e-04    44s
  36   1.30759651e+04  1.37990212e+04  5.71e-02 5.33e-15  4.11e-04    45s
  37   1.30991924e+04  1.37735041e+04  5.30e-02 5.33e-15  3.83e-04    46s
  38   1.31354416e+04  1.37408620e+04  4.65e-02 5.33e-15  3.44e-04    46s

Barrier performed 38 iterations in 46.35 seconds (43.55 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 0.77s

Solved with dual simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  573623    1.3402979e+04   0.000000e+00   0.000000e+00     47s

Root relaxation: objective 1.340298e+04, 573623 iterations, 25.08 seconds (15.09 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 13402.9786    0 14331   -0.00000 13402.9786      -     -   48s
H    0     0                    12335.662235 13402.9786  8.65%     -   48s
H    0     0                    12359.008159 13402.9786  8.45%     -   49s
H    0     0                    12365.084327 13402.9786  8.39%     -   51s
H    0     0                    12390.847580 13402.9786  8.17%     -   51s
H    0     0                    12404.181218 13402.9786  8.05%     -   52s
H    0     0                    12424.421227 13402.9786  7.88%     -   54s
H    0     0                    12454.187700 13402.9786  7.62%     -   56s
H    0     0                    12454.394383 13402.9786  7.62%     -   56s
H    0     0                    12465.921706 13402.9786  7.52%     -   58s
H    0     0                    12477.466017 13402.9786  7.42%     -   59s
H    0     0                    12478.172117 13402.9786  7.41%     -   59s
H    0     0                    12508.879054 13402.9786  7.15%     -   61s
H    0     0                    12531.618268 13402.9786  6.95%     -   63s
H    0     0                    12534.717341 13402.9786  6.93%     -   64s
H    0     0                    12534.875024 13402.9786  6.93%     -   66s
H    0     0                    12538.410523 13402.9786  6.90%     -   66s
H    0     0                    12538.512771 13402.9786  6.89%     -   67s
H    0     0                    12543.807347 13402.9786  6.85%     -   67s
H    0     0                    12545.795306 13402.9786  6.83%     -   67s
H    0     0                    12546.014349 13402.9786  6.83%     -   68s
H    0     0                    12546.262458 13402.9786  6.83%     -   69s
H    0     0                    12548.948478 13402.9786  6.81%     -   69s
H    0     0                    12549.646037 13402.9786  6.80%     -   75s
     0     0 13248.9740    0 14583 12549.6460 13248.9740  5.57%     -   79s
H    0     0                    12558.078913 13248.7327  5.50%     -   84s
H    0     0                    12603.115069 13248.7327  5.12%     -   85s
H    0     0                    12632.685734 13248.7327  4.88%     -   86s

Cutting planes:
  Learned: 3392
  Gomory: 67
  Cover: 3329
  Clique: 391
  MIR: 3496
  GUB cover: 107
  Zero half: 8
  RLT: 1
  Relax-and-lift: 1101

Explored 1 nodes (578949 simplex iterations) in 86.77 seconds (81.78 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 12632.7 12603.1 12558.1 ... 12538.5

Optimal solution found (tolerance 5.00e-02)
Best objective 1.263268573405e+04, best bound 1.324873266169e+04, gap 4.8766%
[Info] Optimization Success. Objective Value: 12632.6857
[Info] Max discrepancy between Gurobi and XGBoost: 4.348441
[Info] Sample of Optimization Results:
                Keyword Region  ... Actual Model Pred          Diff
0  1 mit opencourseware    USA  ...          1.031313 -1.861670e-07
1  1 mit opencourseware    USA  ...          1.164441 -2.539843e-07
2  1 mit opencourseware    USA  ...          0.418439 -3.960582e-07
3  1 mit opencourseware      A  ...          1.146958 -1.935881e-07
4  1 mit opencourseware      A  ...          1.280086 -2.614054e-07

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-26.csv
End: Thu Jan 15 01:26:26 EST 2026
