========== Env & Dir ==========
Host: node1610
Start: Thu Jan 15 01:06:22 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-13

=== Day 2025-12-13 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 2960 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1357746 rows, 726220 columns and 3837864 nonzeros (Max)
Model fingerprint: 0x2dd0475b
Model has 13222 linear objective coefficients
Variable types: 26444 continuous, 699776 integer (699776 binary)
Coefficient statistics:
  Matrix range     [5e-04, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 271785 rows and 47275 columns (presolve time = 5s)...
Presolve removed 655519 rows and 47348 columns (presolve time = 10s)...
Presolve removed 655519 rows and 47348 columns (presolve time = 15s)...
Presolve removed 660473 rows and 50438 columns
Presolve time: 19.91s
Presolved: 697273 rows, 675782 columns, 2208126 nonzeros
Variable types: 13077 continuous, 662705 integer (662704 binary)
Found heuristic solution: objective 75.1195532
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.30s

Barrier statistics:
 AA' NZ     : 9.269e+06
 Factor NZ  : 1.454e+07 (roughly 600 MB of memory)
 Factor Ops : 4.517e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   5.04472136e+07  3.24782076e+08  1.02e+06 2.33e+01  2.24e+04    27s
   1   4.78776022e+07  3.50039373e+08  9.76e+05 3.41e-13  2.16e+04    28s
   2   6.78591737e+05  3.31011280e+08  1.20e+04 9.24e-13  4.77e+02    28s
   3   2.21550745e+05  8.69604973e+07  3.45e+03 6.82e-13  1.10e+02    29s
   4   8.06472257e+04  3.27751801e+07  9.67e+02 1.44e-12  3.40e+01    30s
   5   4.25982262e+04  2.00330952e+07  4.04e+02 7.96e-13  1.80e+01    30s
   6   2.36493621e+04  4.87496482e+06  1.68e+02 1.83e-12  5.04e+00    30s
   7   1.16535880e+04  1.40860895e+06  5.07e+01 9.09e-13  1.48e+00    31s
   8   7.80424746e+03  2.20921385e+05  1.56e+01 8.42e-13  2.92e-01    31s
   9   7.15217250e+03  1.68669909e+05  3.35e+00 9.09e-13  1.37e-01    31s
  10   7.83577567e+03  6.01670281e+04  1.57e+00 7.00e-13  4.36e-02    32s
  11   1.06918601e+04  2.84324828e+04  6.69e-02 7.53e-13  1.20e-02    33s
  12   1.16862676e+04  1.56676428e+04  5.01e-03 2.70e-13  2.64e-03    33s
  13   1.18667224e+04  1.45709894e+04  2.59e-03 1.92e-13  1.79e-03    34s
  14   1.18850926e+04  1.44109506e+04  2.48e-03 1.74e-13  1.68e-03    34s
  15   1.18927212e+04  1.43054889e+04  2.42e-03 1.30e-13  1.60e-03    35s
  16   1.19120251e+04  1.42466566e+04  2.30e-03 1.46e-13  1.55e-03    35s
  17   1.19222568e+04  1.41216167e+04  2.24e-03 1.40e-13  1.46e-03    36s
  18   1.19512078e+04  1.40480870e+04  2.08e-03 1.15e-13  1.39e-03    36s
  19   1.19723982e+04  1.39483065e+04  1.99e-03 1.10e-13  1.31e-03    37s
  20   1.19951607e+04  1.39318118e+04  1.92e-03 1.17e-13  1.28e-03    38s
  21   1.20002022e+04  1.38929288e+04  1.91e-03 1.31e-13  1.26e-03    39s
  22   1.20086039e+04  1.38127748e+04  1.89e-03 1.10e-13  1.20e-03    39s
  23   1.20319064e+04  1.37943142e+04  1.82e-03 1.14e-13  1.17e-03    40s
  24   1.20518167e+04  1.37614382e+04  1.77e-03 1.24e-13  1.13e-03    40s
  25   1.20646893e+04  1.36928154e+04  1.72e-03 1.39e-13  1.08e-03    40s
  26   1.20878619e+04  1.36568729e+04  1.66e-03 1.24e-13  1.04e-03    41s
  27   1.21011741e+04  1.36435479e+04  1.63e-03 1.39e-13  1.02e-03    42s
  28   1.21004867e+04  1.36290403e+04  1.62e-03 1.14e-13  1.01e-03    43s
  29   1.21111193e+04  1.36180752e+04  1.59e-03 1.28e-13  1.00e-03    44s
  30   1.21272975e+04  1.35728430e+04  1.54e-03 9.86e-14  9.59e-04    45s
  31   1.21588773e+04  1.35256771e+04  1.46e-03 7.82e-14  9.07e-04    45s
  32   1.21702767e+04  1.34502066e+04  1.43e-03 8.70e-14  8.49e-04    46s
  33   1.22405492e+04  1.34057369e+04  1.26e-03 6.57e-14  7.73e-04    47s
  34   1.22852352e+04  1.33517651e+04  1.15e-03 6.05e-14  7.07e-04    47s
  35   1.23057356e+04  1.33212541e+04  1.11e-03 6.93e-14  6.74e-04    48s
  36   1.23104984e+04  1.33175141e+04  1.10e-03 7.64e-14  6.68e-04    49s
  37   1.23226493e+04  1.32886307e+04  1.07e-03 7.11e-14  6.41e-04    49s
  38   1.23412774e+04  1.32492042e+04  1.03e-03 9.15e-14  6.02e-04    50s
  39   1.23627345e+04  1.31931808e+04  9.84e-04 6.75e-14  5.51e-04    51s
  40   1.24012548e+04  1.31711926e+04  9.06e-04 5.04e-14  5.11e-04    51s

Barrier performed 40 iterations in 51.38 seconds (43.34 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 4.89s (can be avoided by choosing Method=3)

Solved with primal simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  490744    1.2855113e+04   0.000000e+00   0.000000e+00     54s

Use crossover to convert LP symmetric solution to basic solution...

Root crossover log...

   84449 DPushes remaining with DInf 0.0000000e+00                55s
   22712 DPushes remaining with DInf 0.0000000e+00                55s
       0 DPushes remaining with DInf 0.0000000e+00                55s

     473 PPushes remaining with PInf 0.0000000e+00                55s
       0 PPushes remaining with PInf 0.0000000e+00                56s

  Push phase complete: Pinf 0.0000000e+00, Dinf 1.2338761e+00     56s


Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  575457    1.2855113e+04   0.000000e+00   1.233876e+00     56s
  575477    1.2855113e+04   0.000000e+00   0.000000e+00     56s
Crossover time: 1.35 seconds (1.71 work units)

Root relaxation: objective 1.285511e+04, 575477 iterations, 32.13 seconds (16.94 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 12855.1133    0 14430   75.11955 12855.1133      -     -   57s
H    0     0                    11913.486575 12855.1133  7.90%     -   58s
H    0     0                    11964.196891 12855.1133  7.45%     -   58s
H    0     0                    11983.290860 12855.1133  7.28%     -   59s
H    0     0                    11989.900422 12855.1133  7.22%     -   61s
H    0     0                    11990.094301 12855.1133  7.21%     -   61s
H    0     0                    11998.392934 12855.1133  7.14%     -   62s
H    0     0                    12007.237129 12855.1133  7.06%     -   63s
H    0     0                    12010.952438 12855.1133  7.03%     -   63s
H    0     0                    12026.591428 12855.1133  6.89%     -   64s
H    0     0                    12028.336337 12855.1133  6.87%     -   64s
H    0     0                    12034.043466 12855.1133  6.82%     -   64s
H    0     0                    12038.433428 12855.1133  6.78%     -   64s
H    0     0                    12039.193710 12855.1133  6.78%     -   66s
H    0     0                    12043.334340 12855.1133  6.74%     -   66s
H    0     0                    12043.528218 12855.1133  6.74%     -   67s
H    0     0                    12046.195951 12855.1133  6.72%     -   67s
H    0     0                    12046.425910 12855.1133  6.71%     -   68s
H    0     0                    12047.152478 12855.1133  6.71%     -   68s
H    0     0                    12047.456083 12855.1133  6.70%     -   69s
H    0     0                    12050.473896 12855.1133  6.68%     -   69s
H    0     0                    12050.618828 12855.1133  6.68%     -   69s
H    0     0                    12051.237785 12855.1133  6.67%     -   70s
H    0     0                    12051.856743 12855.1133  6.67%     -   72s
     0     0 12691.4691    0 13450 12051.8567 12691.4691  5.31%     -   78s
H    0     0                    12069.378661 12691.3416  5.15%     -   83s
H    0     0                    12069.572540 12691.3416  5.15%     -   83s
H    0     0                    12072.416371 12691.3416  5.13%     -   83s
H    0     0                    12073.371633 12691.3416  5.12%     -   83s
H    0     0                    12075.102410 12691.3416  5.10%     -   83s
H    0     0                    12075.490167 12691.3416  5.10%     -   83s
     0     0          -    0      12075.4902 12679.2491  5.00%     -   84s

Cutting planes:
  Learned: 9372
  Gomory: 32
  Cover: 2618
  Clique: 433
  MIR: 3662
  GUB cover: 595
  Zero half: 1
  RLT: 66
  Relax-and-lift: 1243

Explored 1 nodes (582342 simplex iterations) in 84.19 seconds (71.95 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 12075.5 12075.1 12073.4 ... 12050.5

Optimal solution found (tolerance 5.00e-02)
Best objective 1.207549016691e+04, best bound 1.267924909662e+04, gap 4.9999%
[Info] Optimization Success. Objective Value: 12075.4902
[Info] Max discrepancy between Gurobi and XGBoost: 7.129582
[Info] Sample of Optimization Results:
                             Keyword Region  ... Actual Model Pred          Diff
0               1 mit opencourseware      A  ...          0.017400  1.620654e-07
1               1 mit opencourseware      B  ...          0.694005  1.260603e-07
2               1 mit opencourseware      B  ...          0.309608 -7.160318e-08
3  5 day generative ai course google    USA  ...          0.250074  9.736835e-08
4  5 day generative ai course google    USA  ...          1.203343 -1.046092e-07

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-13.csv
End: Thu Jan 15 01:08:24 EST 2026
