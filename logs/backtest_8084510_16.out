========== Env & Dir ==========
Host: node1608
Start: Thu Jan 15 01:11:21 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-17

=== Day 2025-12-17 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 4336 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1375765 rows, 704529 columns and 3864562 nonzeros (Max)
Model fingerprint: 0x3db4f79d
Model has 11846 linear objective coefficients
Variable types: 23692 continuous, 680837 integer (680837 binary)
Coefficient statistics:
  Matrix range     [2e-03, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 277284 rows and 24076 columns (presolve time = 5s)...
Presolve removed 694105 rows and 25049 columns (presolve time = 10s)...
Presolve removed 694565 rows and 25274 columns (presolve time = 17s)...
Presolve removed 694570 rows and 25348 columns
Presolve time: 18.01s
Presolved: 681195 rows, 679181 columns, 2218058 nonzeros
Variable types: 11723 continuous, 667458 integer (667457 binary)
Found heuristic solution: objective 47.8321892
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.40s

Barrier statistics:
 AA' NZ     : 1.181e+07
 Factor NZ  : 1.854e+07 (roughly 700 MB of memory)
 Factor Ops : 6.247e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   2.72759082e+07  7.18116333e+07  1.46e+06 2.33e+00  2.56e+03    24s
   1   1.81118661e+07  7.64162773e+07  9.91e+05 1.01e-13  1.83e+03    24s
   2   7.20062677e+05  6.84092462e+07  3.40e+04 1.54e-10  9.64e+01    25s
   3   1.93334448e+05  3.05954153e+07  7.14e+03 8.31e-11  2.62e+01    25s
   4   8.80908908e+04  2.73323846e+07  2.53e+03 7.37e-11  1.83e+01    26s
   5   5.46609468e+04  1.08878377e+07  1.21e+03 2.70e-11  7.39e+00    26s
   6   2.71946558e+04  2.97938303e+06  4.43e+02 7.22e-12  2.14e+00    26s
   7   1.33463516e+04  6.66973084e+05  1.25e+02 1.46e-12  5.08e-01    27s
   8   6.92631741e+03  1.29592146e+05  2.23e+01 3.18e-13  9.25e-02    27s
   9   6.83911435e+03  3.59700489e+04  6.19e-01 2.71e-13  1.65e-02    28s
  10   1.02692419e+04  1.71338063e+04  6.30e-02 1.54e-13  3.80e-03    28s
  11   1.04958734e+04  1.54013249e+04  4.40e-02 9.79e-14  2.72e-03    29s
  12   1.05286937e+04  1.51394070e+04  4.20e-02 1.13e-13  2.55e-03    29s
  13   1.05612028e+04  1.48095771e+04  3.97e-02 1.15e-13  2.35e-03    30s
  14   1.05742791e+04  1.46160301e+04  3.88e-02 9.00e-14  2.24e-03    30s
  15   1.06254742e+04  1.43474501e+04  3.57e-02 8.59e-14  2.06e-03    31s
  16   1.06520905e+04  1.40917881e+04  3.44e-02 8.10e-14  1.90e-03    32s
  17   1.06769136e+04  1.38746740e+04  3.31e-02 8.10e-14  1.77e-03    33s
  18   1.07673668e+04  1.37893748e+04  2.89e-02 7.86e-14  1.67e-03    33s
  19   1.08259460e+04  1.36067051e+04  2.63e-02 6.79e-14  1.54e-03    34s
  20   1.08466736e+04  1.35066084e+04  2.55e-02 6.03e-14  1.47e-03    35s
  21   1.08735242e+04  1.33669528e+04  2.44e-02 6.05e-14  1.38e-03    36s
  22   1.09750351e+04  1.32746098e+04  2.04e-02 6.10e-14  1.27e-03    36s
  23   1.09911534e+04  1.32175040e+04  1.99e-02 6.37e-14  1.23e-03    37s
  24   1.10382071e+04  1.30560469e+04  1.84e-02 4.95e-14  1.12e-03    38s
  25   1.11012447e+04  1.28950697e+04  1.64e-02 4.39e-14  9.92e-04    39s
  26   1.11770346e+04  1.28280105e+04  1.42e-02 4.81e-14  9.13e-04    39s
  27   1.12266732e+04  1.26387799e+04  1.29e-02 4.03e-14  7.81e-04    40s
  28   1.12949938e+04  1.25780667e+04  1.11e-02 3.69e-14  7.09e-04    41s
  29   1.13617745e+04  1.25065581e+04  9.38e-03 3.68e-14  6.33e-04    42s
  30   1.13999378e+04  1.24202218e+04  8.43e-03 3.32e-14  5.64e-04    42s
  31   1.14274809e+04  1.23841681e+04  7.78e-03 3.24e-14  5.29e-04    43s
  32   1.14450874e+04  1.23112024e+04  7.36e-03 3.52e-14  4.79e-04    44s
  33   1.14846928e+04  1.22583539e+04  6.43e-03 2.90e-14  4.28e-04    45s
  34   1.15138770e+04  1.22078145e+04  5.77e-03 2.91e-14  3.84e-04    45s
  35   1.15549563e+04  1.21521149e+04  4.84e-03 2.68e-14  3.30e-04    46s
  36   1.15775507e+04  1.20682701e+04  4.35e-03 2.74e-14  2.71e-04    47s
  37   1.16178286e+04  1.20176832e+04  3.51e-03 2.62e-14  2.21e-04    47s
  38   1.16499569e+04  1.19845509e+04  2.85e-03 2.54e-14  1.85e-04    48s
  39   1.16650900e+04  1.19556465e+04  2.53e-03 2.07e-14  1.61e-04    49s
  40   1.16849163e+04  1.19351815e+04  2.12e-03 2.27e-14  1.38e-04    49s
  41   1.16979850e+04  1.19152191e+04  1.86e-03 2.16e-14  1.20e-04    50s
  42   1.17059905e+04  1.19012746e+04  1.70e-03 2.10e-14  1.08e-04    50s
  43   1.17208598e+04  1.18830486e+04  1.39e-03 1.84e-14  8.97e-05    51s
  44   1.17269227e+04  1.18710590e+04  1.27e-03 2.42e-14  7.97e-05    52s
  45   1.17388501e+04  1.18490385e+04  1.02e-03 2.08e-14  6.09e-05    53s
  46   1.17462052e+04  1.18409125e+04  8.73e-04 2.79e-14  5.24e-05    54s
  47   1.17506024e+04  1.18335700e+04  7.84e-04 2.46e-14  4.59e-05    55s
  48   1.17564956e+04  1.18297847e+04  6.64e-04 2.25e-14  4.05e-05    56s
  49   1.17619000e+04  1.18194266e+04  5.56e-04 2.46e-14  3.18e-05    56s
  50   1.17656961e+04  1.18162283e+04  4.80e-04 2.40e-14  2.79e-05    57s
  51   1.17685835e+04  1.18119643e+04  4.20e-04 1.98e-14  2.40e-05    57s
  52   1.17695631e+04  1.18078661e+04  4.00e-04 2.05e-14  2.12e-05    58s
  53   1.17742273e+04  1.18021139e+04  3.07e-04 2.07e-14  1.54e-05    58s
  54   1.17759760e+04  1.18001848e+04  2.73e-04 2.15e-14  1.34e-05    58s
  55   1.17763807e+04  1.17981082e+04  2.64e-04 1.97e-14  1.20e-05    59s
  56   1.17784983e+04  1.17956649e+04  2.23e-04 2.19e-14  9.50e-06    60s
  57   1.17808018e+04  1.17932159e+04  1.80e-04 2.01e-14  6.87e-06    60s
  58   1.17817388e+04  1.17920736e+04  1.60e-04 1.92e-14  5.72e-06    61s
  59   1.17825802e+04  1.17915185e+04  1.42e-04 1.83e-14  4.95e-06    61s
  60   1.17830399e+04  1.17910292e+04  1.33e-04 1.92e-14  4.43e-06    62s
  61   1.17840492e+04  1.17903688e+04  1.13e-04 1.96e-14  3.50e-06    63s
  62   1.17843078e+04  1.17899357e+04  1.08e-04 1.92e-14  3.12e-06    64s
  63   1.17859009e+04  1.17897778e+04  7.28e-05 1.77e-14  2.15e-06    64s
  64   1.17859817e+04  1.17897461e+04  7.10e-05 1.77e-14  2.09e-06    65s
  65   1.17868372e+04  1.17896985e+04  5.30e-05 1.87e-14  1.59e-06    65s
  66   1.17874519e+04  1.17893715e+04  3.98e-05 2.01e-14  1.06e-06    66s

Barrier performed 66 iterations in 66.02 seconds (55.90 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 7.01s (can be avoided by choosing Method=3)

Solved with dual simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  546980    1.1789309e+04   0.000000e+00   0.000000e+00     66s

Root relaxation: objective 1.178931e+04, 546980 iterations, 44.71 seconds (26.88 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 11789.3088    0 17244   47.83219 11789.3088      -     -   68s
H    0     0                    10730.621309 11789.3088  9.87%     -   69s
H    0     0                    10752.886298 11789.3088  9.64%     -   69s
H    0     0                    10762.187273 11789.3088  9.54%     -   72s
H    0     0                    10763.898470 11789.3088  9.53%     -   72s
H    0     0                    10813.495619 11789.3088  9.02%     -   72s
H    0     0                    10825.207564 11789.3088  8.91%     -   72s
H    0     0                    10837.597973 11789.3088  8.78%     -   77s
H    0     0                    10851.315434 11789.3088  8.64%     -   79s
H    0     0                    10854.211880 11789.3088  8.62%     -   83s
H    0     0                    10858.480999 11789.3088  8.57%     -   85s
H    0     0                    10861.137114 11789.3088  8.55%     -   87s
H    0     0                    10863.179220 11789.3088  8.53%     -   92s
     0     0 11657.7904    0 17701 10863.1792 11657.7904  7.31%     -  105s
H    0     0                    10866.347386 11657.7847  7.28%     -  108s
H    0     0                    10873.344758 11657.7847  7.21%     -  111s
H    0     0                    10874.470095 11657.7847  7.20%     -  111s
H    0     0                    10892.731682 11657.7847  7.02%     -  112s
H    0     0                    10904.344621 11657.7847  6.91%     -  112s
H    0     0                    10905.683483 11657.7847  6.90%     -  112s
H    0     0                    10911.617808 11657.7847  6.84%     -  112s
H    0     0                    10911.890585 11657.7847  6.84%     -  112s
H    0     0                    10917.641510 11657.7847  6.78%     -  113s
H    0     0                    10917.914287 11657.7847  6.78%     -  113s
H    0     0                    10923.441581 11657.7847  6.72%     -  113s
H    0     0                    10923.758339 11657.7847  6.72%     -  113s
H    0     0                    10923.839040 11657.7847  6.72%     -  113s
H    0     0                    10925.708112 11657.7847  6.70%     -  113s
H    0     0                    10927.046076 11657.7847  6.69%     -  114s
H    0     0                    10927.103777 11657.7847  6.69%     -  115s
H    0     0                    10927.966381 11657.7847  6.68%     -  115s
     0     0 11604.2671    0 18316 10927.9664 11604.2671  6.19%     -  118s
     0     0 11601.1536    0 18128 10927.9664 11601.1536  6.16%     -  119s
     0     0 11601.0480    0 18164 10927.9664 11601.0480  6.16%     -  120s
     0     0 11601.0314    0 18199 10927.9664 11601.0314  6.16%     -  121s
     0     0 11523.3002    0 17444 10927.9664 11523.3002  5.45%     -  128s
     0     0 11514.0819    0 17691 10927.9664 11514.0819  5.36%     -  135s
     0     0 11513.6895    0 17970 10927.9664 11513.6895  5.36%     -  137s
     0     0 11513.6636    0 17968 10927.9664 11513.6636  5.36%     -  137s
     0     0          -    0      10927.9664 11463.0426  4.90%     -  145s

Cutting planes:
  Learned: 13446
  Gomory: 183
  Cover: 8508
  Clique: 10933
  MIR: 14277
  GUB cover: 70
  Zero half: 3
  RLT: 60
  Relax-and-lift: 2987

Explored 1 nodes (573315 simplex iterations) in 145.41 seconds (150.35 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 10928 10927.1 10927 ... 10911.9

Optimal solution found (tolerance 5.00e-02)
Best objective 1.092796638111e+04, best bound 1.146304263086e+04, gap 4.8964%
[Info] Optimization Success. Objective Value: 10927.9664
[Info] Max discrepancy between Gurobi and XGBoost: 3.867773
[Info] Sample of Optimization Results:
                             Keyword Region  ... Actual Model Pred          Diff
0               1 mit opencourseware      B  ...          0.241398 -3.044600e-07
1  5 day generative ai course google    USA  ...          0.211208  3.620855e-07
2  5 day generative ai course google    USA  ...          1.320208  1.505162e-07
3  5 day generative ai course google      A  ...          0.327588  3.787001e-07
4  5 day generative ai course google      A  ...          1.436588  9.262506e-08

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-17.csv
End: Thu Jan 15 01:14:24 EST 2026
