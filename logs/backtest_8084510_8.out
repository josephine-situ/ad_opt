========== Env & Dir ==========
Host: node1608
Start: Thu Jan 15 01:01:21 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-09

=== Day 2025-12-09 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 1111 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1615750 rows, 849954 columns and 4555091 nonzeros (Max)
Model fingerprint: 0x811a451d
Model has 15071 linear objective coefficients
Variable types: 30142 continuous, 819812 integer (819812 binary)
Coefficient statistics:
  Matrix range     [5e-04, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 338787 rows and 60667 columns (presolve time = 5s)...
Presolve removed 842292 rows and 61343 columns (presolve time = 10s)...
Presolve removed 842292 rows and 61343 columns (presolve time = 19s)...
Presolve removed 842292 rows and 65357 columns (presolve time = 21s)...
Presolve removed 848521 rows and 65861 columns
Presolve time: 24.39s
Presolved: 767229 rows, 784093 columns, 2548601 nonzeros
Variable types: 14843 continuous, 769250 integer (769250 binary)
Found heuristic solution: objective 62.0530885
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.36s

Barrier statistics:
 AA' NZ     : 1.193e+07
 Factor NZ  : 1.871e+07 (roughly 800 MB of memory)
 Factor Ops : 5.622e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.90998164e+07  9.11663230e+07  1.72e+06 2.32e+00  1.21e+03    31s
   1   6.37227484e+06  8.72938327e+07  6.15e+05 5.51e-14  4.54e+02    32s
   2   4.20285104e+05  5.71762010e+07  3.15e+04 6.39e-14  4.51e+01    32s
   3   1.07677200e+05  8.97200449e+06  5.45e+03 1.40e-13  6.46e+00    33s
   4   4.34865665e+04  1.66897333e+06  1.54e+03 2.18e-13  1.36e+00    34s
   5   1.55859659e+04  4.21262215e+05  3.42e+02 1.72e-13  3.21e-01    34s
   6   8.51955718e+03  1.30413614e+05  5.07e+01 1.90e-13  7.63e-02    35s
   7   9.37806724e+03  4.00622863e+04  4.93e+00 1.65e-13  1.60e-02    35s
   8   1.45002301e+04  2.03053807e+04  4.30e-01 1.04e-13  2.83e-03    36s
   9   1.49142803e+04  1.87557023e+04  2.67e-01 5.57e-14  1.87e-03    36s
  10   1.50009336e+04  1.83900245e+04  2.43e-01 6.24e-14  1.65e-03    37s
  11   1.50499036e+04  1.82024772e+04  2.29e-01 5.71e-14  1.53e-03    38s
  12   1.50686467e+04  1.80724351e+04  2.25e-01 5.08e-14  1.46e-03    38s
  13   1.50963044e+04  1.79338732e+04  2.18e-01 4.30e-14  1.38e-03    39s
  14   1.51183458e+04  1.78600673e+04  2.13e-01 4.23e-14  1.33e-03    40s
  15   1.51695747e+04  1.78217305e+04  2.01e-01 4.91e-14  1.29e-03    41s
  16   1.52134937e+04  1.77874059e+04  1.93e-01 3.96e-14  1.25e-03    41s
  17   1.52391050e+04  1.77457691e+04  1.88e-01 3.96e-14  1.22e-03    42s
  18   1.52685094e+04  1.76949941e+04  1.82e-01 4.56e-14  1.18e-03    43s
  19   1.53127820e+04  1.76442443e+04  1.73e-01 4.10e-14  1.13e-03    44s
  20   1.53409232e+04  1.75972239e+04  1.68e-01 3.68e-14  1.10e-03    44s
  21   1.53646784e+04  1.75441977e+04  1.63e-01 4.29e-14  1.06e-03    45s
  22   1.53964402e+04  1.74969739e+04  1.57e-01 4.19e-14  1.02e-03    46s
  23   1.54322333e+04  1.74442862e+04  1.50e-01 3.50e-14  9.76e-04    47s
  24   1.54564860e+04  1.74099084e+04  1.45e-01 3.00e-14  9.48e-04    48s
  25   1.54873965e+04  1.73355229e+04  1.39e-01 2.81e-14  8.97e-04    49s
  26   1.55315469e+04  1.73002396e+04  1.31e-01 2.76e-14  8.58e-04    50s
  27   1.55645334e+04  1.72272342e+04  1.26e-01 2.56e-14  8.07e-04    50s
  28   1.56091314e+04  1.71973880e+04  1.18e-01 3.03e-14  7.70e-04    51s
  29   1.56608280e+04  1.71356569e+04  1.09e-01 3.15e-14  7.15e-04    52s
  30   1.56933759e+04  1.70926622e+04  1.04e-01 2.42e-14  6.79e-04    53s
  31   1.57306361e+04  1.70344855e+04  9.79e-02 2.11e-14  6.32e-04    54s
  32   1.57679799e+04  1.69950888e+04  9.19e-02 2.03e-14  5.95e-04    55s
  33   1.57964832e+04  1.69476170e+04  8.74e-02 1.80e-14  5.58e-04    55s
  34   1.58221776e+04  1.69066288e+04  8.32e-02 2.19e-14  5.26e-04    56s
  35   1.58431265e+04  1.68715191e+04  7.98e-02 1.91e-14  4.99e-04    57s
  36   1.58696457e+04  1.68624714e+04  7.55e-02 1.47e-14  4.82e-04    58s
  37   1.58893308e+04  1.68318070e+04  7.23e-02 1.74e-14  4.57e-04    58s
  38   1.59082283e+04  1.68115762e+04  6.92e-02 1.41e-14  4.38e-04    59s
  39   1.59243655e+04  1.67899104e+04  6.66e-02 1.35e-14  4.20e-04    60s
  40   1.59409452e+04  1.67625575e+04  6.40e-02 1.71e-14  3.99e-04    60s
  41   1.59541956e+04  1.67454352e+04  6.17e-02 1.49e-14  3.84e-04    61s
  42   1.59703049e+04  1.67296956e+04  5.90e-02 1.70e-14  3.68e-04    62s
  43   1.59898212e+04  1.67088734e+04  5.57e-02 1.59e-14  3.49e-04    63s
  44   1.60007986e+04  1.66881830e+04  5.39e-02 1.57e-14  3.33e-04    64s
  45   1.60171582e+04  1.66779841e+04  5.12e-02 1.66e-14  3.21e-04    64s
  46   1.60305646e+04  1.66589997e+04  4.90e-02 1.69e-14  3.05e-04    65s
  47   1.60423501e+04  1.66393201e+04  4.71e-02 1.68e-14  2.90e-04    66s
  48   1.60557562e+04  1.66213708e+04  4.49e-02 1.79e-14  2.74e-04    66s
  49   1.60690583e+04  1.66100779e+04  4.27e-02 1.74e-14  2.62e-04    67s
  50   1.60815911e+04  1.65934065e+04  4.07e-02 1.53e-14  2.48e-04    68s
  51   1.60928973e+04  1.65787398e+04  3.89e-02 1.64e-14  2.36e-04    69s
  52   1.61072494e+04  1.65598027e+04  3.66e-02 1.92e-14  2.20e-04    70s
  53   1.61147779e+04  1.65507663e+04  3.54e-02 1.62e-14  2.12e-04    70s
  54   1.61327205e+04  1.65323713e+04  3.25e-02 1.82e-14  1.94e-04    71s
  55   1.61437051e+04  1.65207819e+04  3.08e-02 1.79e-14  1.83e-04    71s
  56   1.61549909e+04  1.65084582e+04  2.90e-02 1.95e-14  1.71e-04    72s
  57   1.61645395e+04  1.64988295e+04  2.75e-02 2.03e-14  1.62e-04    73s
  58   1.61729036e+04  1.64883924e+04  2.62e-02 2.00e-14  1.53e-04    74s
  59   1.61807284e+04  1.64833984e+04  2.49e-02 1.82e-14  1.47e-04    75s
  60   1.61911560e+04  1.64725586e+04  2.32e-02 2.11e-14  1.37e-04    76s
  61   1.61974867e+04  1.64634977e+04  2.22e-02 1.96e-14  1.29e-04    77s
  62   1.62040806e+04  1.64559618e+04  2.11e-02 2.29e-14  1.22e-04    78s
  63   1.62108688e+04  1.64433063e+04  2.00e-02 2.02e-14  1.13e-04    79s
  64   1.62178928e+04  1.64366190e+04  1.89e-02 2.23e-14  1.06e-04    79s
  65   1.62269920e+04  1.64293494e+04  1.75e-02 1.88e-14  9.82e-05    81s
  66   1.62354455e+04  1.64227558e+04  1.62e-02 2.01e-14  9.09e-05    81s
  67   1.62454598e+04  1.64164535e+04  1.46e-02 2.07e-14  8.30e-05    82s
  68   1.62520273e+04  1.64064051e+04  1.35e-02 1.89e-14  7.49e-05    83s
  69   1.62580306e+04  1.63993176e+04  1.25e-02 1.71e-14  6.86e-05    83s

Barrier performed 69 iterations in 83.41 seconds (68.10 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 8.78s (can be avoided by choosing Method=3)

Solved with primal simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  662176    1.6335107e+04   0.000000e+00   0.000000e+00     84s

Root relaxation: objective 1.633511e+04, 662176 iterations, 55.45 seconds (33.22 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 16335.1074    0 15288   62.05309 16335.1074      -     -   85s
H    0     0                    15356.953850 16335.1074  6.37%     -   85s
H    0     0                    15384.663600 16335.1074  6.18%     -   86s
H    0     0                    15394.881845 16335.1074  6.11%     -   88s
H    0     0                    15402.655433 16335.1074  6.05%     -   90s
H    0     0                    15405.008826 16335.1074  6.04%     -   92s
H    0     0                    15405.325401 16335.1074  6.04%     -   92s
H    0     0                    15406.749981 16335.1074  6.03%     -   94s
H    0     0                    15410.306523 16335.1074  6.00%     -   95s
H    0     0                    15410.904893 16335.1074  6.00%     -   96s
H    0     0                    15411.942310 16335.1074  5.99%     -   97s
H    0     0                    15412.258885 16335.1074  5.99%     -   98s
H    0     0                    15414.167916 16335.1074  5.97%     -  100s
     0     0 16198.1268    0 15375 15414.1679 16198.1268  5.09%     -  115s
H    0     0                    15418.073046 16198.0350  5.06%     -  118s
H    0     0                    15454.845622 16198.0350  4.81%     -  120s

Cutting planes:
  Learned: 4908
  Gomory: 63
  Cover: 3049
  Clique: 298
  MIR: 3185
  GUB cover: 53
  Zero half: 6
  Relax-and-lift: 2078

Explored 1 nodes (669441 simplex iterations) in 120.50 seconds (113.09 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 15454.8 15418.1 15414.2 ... 15405

Optimal solution found (tolerance 5.00e-02)
Best objective 1.545484562195e+04, best bound 1.619803504758e+04, gap 4.8088%
[Info] Optimization Success. Objective Value: 15454.8456
[Info] Max discrepancy between Gurobi and XGBoost: 4.057026
[Info] Sample of Optimization Results:
                             Keyword Region  ... Actual Model Pred          Diff
0               1 mit opencourseware      A  ...          0.334064  4.949883e-07
1               1 mit opencourseware      B  ...          0.301360  2.440907e-07
2               1 mit opencourseware      B  ...          0.376214  1.986122e-07
3               1 mit opencourseware      B  ...          0.811006  4.798081e-07
4  5 day generative ai course google    USA  ...          0.379527  2.093309e-07

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-09.csv
End: Thu Jan 15 01:04:03 EST 2026
