========== Env & Dir ==========
Host: node1608
Start: Thu Jan 15 01:17:22 EST 2026
Submit dir: /orcd/home/002/jositu/ad_opt
PWD: /orcd/home/002/jositu/ad_opt
===============================
Load modules...
Activate environment...
Running backtest_daily.py --day 2025-12-21

=== Day 2025-12-21 ===
[Info] Created 16182 keyword combinations.
[Step 5] Loading Google Keyword Planner data...
  Found GKP file: Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  Loaded 1749 rows from Saved Keywords Stats 2026-01-11 at 17_51_34.csv
  After cleaning: 1747 rows with unique keywords
[Step 5.5] Imputing missing data...

  Imputation Summary:
  -------------------------------------------------------------------------------------
  searches_2024_07                        26.73% numeric (0)               (n=467)
  searches_2024_08                        26.73% numeric (0)               (n=467)
  searches_2024_09                        26.73% numeric (0)               (n=467)
  searches_2024_10                        26.73% numeric (0)               (n=467)
  searches_2024_11                        26.73% numeric (0)               (n=467)
  searches_2024_12                        26.73% numeric (0)               (n=467)
  searches_2025_01                        26.73% numeric (0)               (n=467)
  searches_2025_02                        26.73% numeric (0)               (n=467)
  searches_2025_03                        26.73% numeric (0)               (n=467)
  searches_2025_04                        26.73% numeric (0)               (n=467)
  searches_2025_05                        26.73% numeric (0)               (n=467)
  searches_2025_06                        26.73% numeric (0)               (n=467)
  searches_2025_07                        26.73% numeric (0)               (n=467)
  searches_2025_08                        26.73% numeric (0)               (n=467)
  searches_2025_09                        26.73% numeric (0)               (n=467)
  searches_2025_10                        26.73% numeric (0)               (n=467)
  searches_2025_11                        26.73% numeric (0)               (n=467)
  Competition                             38.12% categorical (Missing)     (n=666)
  Competition (indexed value)             38.12% numeric (0)               (n=666)
  Top of page bid (low range)             54.26% numeric (0)               (n=948)
  Top of page bid (high range)            54.26% numeric (0)               (n=948)
  -------------------------------------------------------------------------------------
  Total: Imputed 11167 missing values (29.06% of total data)
[Step 6] Merging with GKP data by keyword and date...
  Found 17 monthly search columns
  Fuzzy-matched 162 rows using similar-word normalization
  Example fuzzy mappings: ['ai certification -> artificial intelligence certification', 'ai certification courses -> ai certificate course', 'ai courses -> artificial intelligence course', 'ai for engineers -> ai for engineering', 'ai learning courses -> ai learning course']
  Matched 1765 unique keywords from GKP
  Unmatched 33 keywords after fuzzy merge
  Unmatched keyword examples (33): ['ai online courses', 'apply to mit', 'artificial intelligence ms in usa', 'business ai', 'course ai', 'courses on artificial intelligence', 'deeplearning ai', 'diploma in artificial intelligence', 'harvard cs50', 'harvard edx', "harvard's cs50", 'mit app inventor', 'mit artificial intelligence online course', 'mit course', 'mit courses', 'mit cursos online gratuitos', 'mit edx', 'mit in us', 'mit open course', 'mit open courses', 'mit opencourseware', 'mit summer programme', "mit women's technology program", 'mites mit', 'ocw mit', 'online ai courses', 'open courses mit', 'opencourseware mit', 'python mit', 'stanford ai', 'stanford ai course', 'stanford ai courses', 'university mit']
  Calculating time series statistics...
  Added time series statistics columns

  NaN check after time series calculations (from unmatched keywords):
    last_month_searches          297 rows (  1.84%)
    three_month_avg              297 rows (  1.84%)
    six_month_avg                297 rows (  1.84%)
    mom_change                   297 rows (  1.84%)
    search_trend                 297 rows (  1.84%)
  Merged rows: 16182
âœ… Consistency Check Passed: Embeddings are identical.
Set parameter WLSAccessID
Set parameter WLSSecret
Set parameter LicenseID to value 2760147
Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Set parameter OutputFlag to value 1
Set parameter TimeLimit to value 300
Set parameter MIPGap to value 0.05
[Info] Pruned 2714 rows with negative predicted clicks at Cost=0.
Gurobi Optimizer version 13.0.0 build v13.0.0rc1 (linux64 - "Rocky Linux 8.10 (Green Obsidian)")

CPU model: AMD EPYC 9474F 48-Core Processor, instruction set [SSE2|AVX|AVX2|AVX512]
Thread count: 96 physical cores, 192 logical processors, using up to 32 threads

Non-default parameters:
TimeLimit  300
MIPGap  0.05

Academic license 2760147 - for non-commercial use only - registered to jo___@mit.edu
Optimize a model with 1612641 rows, 814090 columns and 4517292 nonzeros (Max)
Model fingerprint: 0x3ae6cb8b
Model has 13468 linear objective coefficients
Variable types: 26936 continuous, 787154 integer (787154 binary)
Coefficient statistics:
  Matrix range     [2e-04, 4e+02]
  Objective range  [1e+00, 1e+00]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+01, 4e+02]
Found heuristic solution: objective -0.0000000
Presolve removed 360507 rows and 52276 columns (presolve time = 5s)...
Presolve removed 914648 rows and 52555 columns (presolve time = 15s)...
Presolve removed 914648 rows and 58430 columns (presolve time = 16s)...
Presolve removed 921665 rows and 59106 columns
Presolve time: 19.51s
Presolved: 690976 rows, 754984 columns, 2442556 nonzeros
Variable types: 13288 continuous, 741696 integer (741696 binary)
Found heuristic solution: objective 59.9421860
Deterministic concurrent LP optimizer: primal simplex, dual simplex, and barrier
Showing barrier log only...

Root barrier log...

Ordering time: 0.39s

Barrier statistics:
 AA' NZ     : 1.087e+07
 Factor NZ  : 1.705e+07 (roughly 700 MB of memory)
 Factor Ops : 5.209e+08 (less than 1 second per iteration)
 Threads    : 30

                  Objective                Residual
Iter       Primal          Dual         Primal    Dual     Compl     Time
   0   1.89228467e+07  1.00577286e+08  1.39e+06 2.82e+00  2.19e+03    26s
   1   3.84086466e+06  1.03210805e+08  2.97e+05 2.31e-14  5.12e+02    27s
   2   6.25728633e+05  6.68052629e+07  4.06e+04 1.60e-14  8.49e+01    27s
   3   1.76880799e+05  2.29222522e+07  9.01e+03 1.53e-14  2.00e+01    28s
   4   5.03672112e+04  3.98788944e+06  1.40e+03 1.83e-14  3.07e+00    29s
   5   2.26370623e+04  1.13796935e+06  4.14e+02 2.09e-14  8.81e-01    29s
   6   9.83645601e+03  2.49301016e+05  7.69e+01 2.03e-14  1.81e-01    29s
   7   6.80352716e+03  8.55738219e+04  1.95e+01 2.20e-14  5.37e-02    30s
   8   7.24198113e+03  4.51845911e+04  2.91e-01 1.57e-14  1.94e-02    30s
   9   9.39890509e+03  1.94035382e+04  3.47e-02 1.75e-14  5.08e-03    31s
  10   1.00742918e+04  1.71812454e+04  2.35e-02 9.77e-15  3.61e-03    31s
  11   1.05210589e+04  1.62445813e+04  1.74e-02 9.10e-15  2.91e-03    32s
  12   1.06415668e+04  1.55844502e+04  1.60e-02 7.33e-15  2.51e-03    32s
  13   1.07327663e+04  1.52036206e+04  1.50e-02 7.11e-15  2.27e-03    33s
  14   1.08656195e+04  1.50176121e+04  1.36e-02 7.11e-15  2.11e-03    34s
  15   1.10201237e+04  1.48689767e+04  1.19e-02 6.88e-15  1.95e-03    35s
  16   1.11198629e+04  1.46557909e+04  1.10e-02 6.66e-15  1.80e-03    36s
  17   1.13083483e+04  1.45206381e+04  9.13e-03 7.11e-15  1.63e-03    36s
  18   1.13921676e+04  1.41878756e+04  8.38e-03 7.11e-15  1.42e-03    37s
  19   1.14105830e+04  1.40761759e+04  8.22e-03 7.11e-15  1.35e-03    38s
  20   1.14814005e+04  1.39471107e+04  7.62e-03 7.11e-15  1.25e-03    38s
  21   1.15380599e+04  1.38339322e+04  7.13e-03 7.11e-15  1.17e-03    39s
  22   1.16081024e+04  1.37881806e+04  6.56e-03 7.11e-15  1.11e-03    40s
  23   1.16640481e+04  1.36621970e+04  6.09e-03 7.11e-15  1.01e-03    41s
  24   1.17432566e+04  1.35369330e+04  5.43e-03 7.11e-15  9.11e-04    42s
  25   1.17672900e+04  1.34779320e+04  5.24e-03 7.11e-15  8.69e-04    42s
  26   1.18108134e+04  1.34350276e+04  4.91e-03 7.11e-15  8.25e-04    43s
  27   1.18209952e+04  1.33971067e+04  4.83e-03 7.11e-15  8.00e-04    44s
  28   1.18816028e+04  1.33078592e+04  4.35e-03 7.11e-15  7.24e-04    44s
  29   1.19501165e+04  1.32506092e+04  3.80e-03 9.71e-15  6.60e-04    45s
  30   1.19789233e+04  1.31885394e+04  3.58e-03 1.48e-14  6.14e-04    46s
  31   1.20197487e+04  1.31529395e+04  3.27e-03 7.11e-15  5.75e-04    47s
  32   1.20298794e+04  1.31292610e+04  3.19e-03 7.11e-15  5.58e-04    47s
  33   1.20555135e+04  1.30764835e+04  2.99e-03 7.11e-15  5.18e-04    48s
  34   1.20977179e+04  1.30505735e+04  2.67e-03 7.11e-15  4.84e-04    49s
  35   1.21381274e+04  1.30260028e+04  2.36e-03 7.11e-15  4.51e-04    49s
  36   1.21564500e+04  1.29983122e+04  2.22e-03 7.11e-15  4.27e-04    51s
  37   1.22066949e+04  1.29039710e+04  1.84e-03 9.99e-15  3.54e-04    51s
  38   1.22188539e+04  1.28489535e+04  1.75e-03 1.20e-14  3.20e-04    52s
  39   1.22641937e+04  1.28000500e+04  1.41e-03 8.33e-15  2.72e-04    53s
  40   1.22791683e+04  1.27761087e+04  1.30e-03 1.49e-14  2.52e-04    53s
  41   1.22925220e+04  1.27453286e+04  1.21e-03 8.77e-15  2.30e-04    54s
  42   1.23004626e+04  1.27319393e+04  1.15e-03 1.17e-14  2.19e-04    54s
  43   1.23279494e+04  1.27119453e+04  9.49e-04 1.21e-14  1.95e-04    55s
  44   1.23372742e+04  1.26778084e+04  8.80e-04 1.17e-14  1.73e-04    56s
  45   1.23482302e+04  1.26591055e+04  8.00e-04 1.35e-14  1.58e-04    57s
  46   1.23596699e+04  1.26381103e+04  7.17e-04 1.70e-14  1.41e-04    57s
  47   1.23681082e+04  1.26154571e+04  6.56e-04 1.47e-14  1.26e-04    58s
  48   1.23760642e+04  1.26011786e+04  6.00e-04 1.45e-14  1.14e-04    59s
  49   1.23869511e+04  1.25891230e+04  5.22e-04 1.67e-14  1.03e-04    59s
  50   1.23930784e+04  1.25750453e+04  4.78e-04 1.72e-14  9.24e-05    60s
  51   1.24006089e+04  1.25470120e+04  4.22e-04 1.70e-14  7.43e-05    61s
  52   1.24064097e+04  1.25377104e+04  3.80e-04 1.82e-14  6.67e-05    62s

Barrier performed 52 iterations in 61.71 seconds (55.42 work units)
Barrier solve interrupted - model solved by another algorithm

Concurrent spin time: 13.26s (can be avoided by choosing Method=3)

Solved with primal simplex

Root simplex log...

Iteration    Objective       Primal Inf.    Dual Inf.      Time
  438511    1.2459000e+04   0.000000e+00   0.000000e+00     62s

Root relaxation: objective 1.245900e+04, 438511 iterations, 39.13 seconds (23.43 work units)

    Nodes    |    Current Node    |     Objective Bounds      |     Work
 Expl Unexpl |  Obj  Depth IntInf | Incumbent    BestBd   Gap | It/Node Time

     0     0 12459.0004    0 12296   59.94219 12459.0004      -     -   63s
H    0     0                    11345.216435 12459.0004  9.82%     -   64s
H    0     0                    11544.744551 12459.0004  7.92%     -   65s
H    0     0                    11567.101008 12459.0004  7.71%     -   67s
H    0     0                    11567.336634 12459.0004  7.71%     -   67s
H    0     0                    11577.550789 12459.0004  7.61%     -   67s
H    0     0                    11579.775170 12459.0004  7.59%     -   71s
H    0     0                    11590.449450 12459.0004  7.49%     -   72s
H    0     0                    11591.656646 12459.0004  7.48%     -   75s
H    0     0                    11593.852583 12459.0004  7.46%     -   78s
H    0     0                    11597.222215 12459.0004  7.43%     -   82s
H    0     0                    11599.076298 12459.0004  7.41%     -   85s
H    0     0                    11600.087721 12459.0004  7.40%     -   86s
H    0     0                    11600.404242 12459.0004  7.40%     -   91s
H    0     0                    11600.859252 12459.0004  7.40%     -   94s
H    0     0                    11602.541270 12459.0004  7.38%     -   94s
H    0     0                    11602.799570 12459.0004  7.38%     -   94s
H    0     0                    11602.889905 12459.0004  7.38%     -   94s
H    0     0                    11602.980240 12459.0004  7.38%     -   96s
     0     0 12298.5869    0 15225 11602.9802 12298.5869  6.00%     -  104s
H    0     0                    11603.469810 12298.4824  5.99%     -  107s
H    0     0                    11604.360336 12298.4824  5.98%     -  108s
H    0     0                    11624.996133 12298.4824  5.79%     -  109s
H    0     0                    11626.122416 12298.4824  5.78%     -  110s
H    0     0                    11626.933080 12298.4824  5.78%     -  110s
H    0     0                    11627.757796 12298.4824  5.77%     -  110s
H    0     0                    11628.247228 12298.4824  5.76%     -  110s
H    0     0                    11628.670555 12298.4824  5.76%     -  111s
H    0     0                    11628.851224 12298.4824  5.76%     -  111s
H    0     0                    11628.934841 12298.4824  5.76%     -  112s
     0     0 12281.8187    0 15229 11628.9348 12281.8187  5.61%     -  113s
     0     0 12280.1155    0 15220 11628.9348 12280.1155  5.60%     -  114s
     0     0 12279.3290    0 15239 11628.9348 12279.3290  5.59%     -  115s
     0     0 12279.1363    0 15275 11628.9348 12279.1363  5.59%     -  116s
     0     0 12279.0501    0 15244 11628.9348 12279.0501  5.59%     -  116s
     0     0 12279.0211    0 15249 11628.9348 12279.0211  5.59%     -  117s
     0     0          -    0      11628.9348 12210.3639  5.00%     -  122s

Cutting planes:
  Learned: 5648
  Gomory: 180
  Cover: 6556
  Clique: 309
  MIR: 9305
  GUB cover: 487
  Zero half: 2
  Relax-and-lift: 2014

Explored 1 nodes (451881 simplex iterations) in 122.24 seconds (126.53 work units)
Thread count was 32 (of 192 available processors)

Solution count 10: 11628.9 11628.9 11628.7 ... 11603.5

Optimal solution found (tolerance 5.00e-02)
Best objective 1.162893484102e+04, best bound 1.221036387560e+04, gap 4.9998%
[Info] Optimization Success. Objective Value: 11628.9348
[Info] Max discrepancy between Gurobi and XGBoost: 3.741200
[Info] Sample of Optimization Results:
                Keyword Region  ... Actual Model Pred          Diff
0  1 mit opencourseware    USA  ...          0.452390 -1.208385e-07
1  1 mit opencourseware    USA  ...          0.514166 -1.060323e-07
2  1 mit opencourseware    USA  ...          0.660520 -1.994510e-07
3  1 mit opencourseware      A  ...          0.652624 -7.665760e-08
4  1 mit opencourseware      A  ...          0.714401 -6.185145e-08

[5 rows x 7 columns]

Backtest complete. Evaluation saved to opt_results/backtests/daily_eval_2025-12-21.csv
End: Thu Jan 15 01:20:06 EST 2026
